(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))f(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&f(l)}).observe(document,{childList:!0,subtree:!0});function _(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function f(e){if(e.ep)return;e.ep=!0;const r=_(e);fetch(e.href,r)}})();const B=()=>{const b=document.querySelectorAll(".navbar__list-link"),u=document.querySelector(".navbar__list"),_=e=>e.classList.remove("navbar__list-link--active"),f=e=>e.classList.add("navbar__list-link--active");u.addEventListener("click",e=>{const r=e.target;r&&r.classList.contains("navbar__list-link")&&(r.classList.contains("navbar__list-link--active")||(b.forEach(l=>_(l)),f(r)))})};function I(){const b=Array.from(document.querySelectorAll("[data-floor]")),u=Array.from(document.querySelectorAll("[data-flat]")),_=Array.from(document.querySelectorAll(".flat__list-link")),f=document.querySelector(".main__image-home"),e=document.querySelector(".counter__number"),r=document.querySelector(".counter__arrow-up"),l=document.querySelector(".counter__arrow-down"),n=document.querySelector(".modal"),i={MIN_FLOOR:2,MAX_FLOOR:18,FLATS_COUNT:10,BASE_START:21,MAX_BASE_START:1e4,PAD_THRESHOLD:10,INITIAL_FLAT:1},d={minFloor:n?.dataset?.minFloor?Number(n.dataset.minFloor):void 0,maxFloor:n?.dataset?.maxFloor?Number(n.dataset.maxFloor):void 0,baseStart:n?.dataset?.baseStart?Number(n.dataset.baseStart):void 0,flatsCount:n?.dataset?.flatsCount?Number(n.dataset.flatsCount):void 0},F=t=>t>=0&&t<i.PAD_THRESHOLD?`0${t}`:String(t),S=Array.from(new Set(b.map(t=>Number(String(t.dataset.floor).replace(/^0+/,"")||NaN)).filter(Number.isFinite))).sort((t,o)=>t-o),m=d.minFloor??(S.length?S[0]:i.MIN_FLOOR),N=d.maxFloor??(S.length?S[S.length-1]:i.MAX_FLOOR),T=document.querySelectorAll(".number-of-flat").length||document.querySelectorAll("[data-flat]").length||0,h=d.flatsCount??(T||i.FLATS_COUNT),p=Array.from(document.querySelectorAll(".number-of-flat")).map(t=>Number(t.textContent?.trim())).filter(Number.isFinite);let c;d.baseStart&&Number.isFinite(d.baseStart)?c=d.baseStart:p.length?c=Math.min(...p):c=i.BASE_START,(!Number.isFinite(c)||c<=0||c>i.MAX_BASE_START)&&(c=i.BASE_START);const q=(t,o=c)=>Array.from({length:t},(s,A)=>o+A),C=t=>(t-m)*h,a={floor:null,flat:null};a.floor=Number(e?.textContent?.replace(/^0+/,""))||m,a.flat=i.INITIAL_FLAT;const O=()=>{r&&(r.disabled=a.floor>=N),l&&(l.disabled=a.floor<=m)},L=t=>{if(!Number.isFinite(t))return;a.floor=t,e&&(e.textContent=F(t)),b.forEach(s=>s.classList.remove("current-floor")),(document.querySelector(`[data-floor="${F(t)}"]`)||document.querySelector(`[data-floor="${String(t)}"]`))?.classList.toggle("current-floor"),O()},M=t=>{a.flat=t,u.forEach(o=>o.classList.remove("current-flat")),_.forEach(o=>o.classList.remove("current-flat")),document.querySelector(`[data-flat-number="${t}"]`)?.classList.toggle("current-flat"),document.querySelector(`[data-flat="${t}"]`)?.classList.toggle("current-flat")};O(),f?.addEventListener("mouseover",t=>{const o=t.target?.closest?.("[data-floor]");if(!o)return;const s=Number(String(o.dataset.floor).replace(/^0+/,""))||m;L(s)}),r?.addEventListener("click",()=>{a.floor<N&&L(a.floor+1)}),l?.addEventListener("click",()=>{a.floor>m&&L(a.floor-1)}),n?.addEventListener("mouseover",t=>{const o=t.target?.closest?.("[data-flat], [data-flat-number]");if(!o)return;const s=o.getAttribute("data-flat")||o.getAttribute("data-flat-number");M(s)}),document.addEventListener("click",t=>{const o=t.target,s=o?.classList?.contains("main__nav-btn"),A=o?.classList?.contains("modal"),g=o?.classList?.contains("modal__close-btn"),v=o?.classList?.contains("svg__close-btn"),y=o?.classList?.contains("path__close-btn"),R=e?.textContent||"",E=document.querySelector(".modal__counter");(o?.hasAttribute?.("data-floor")||s)&&(n?.classList?.add("show"),E&&(E.textContent=R),x()),(g||v||y||A)&&n?.classList?.remove("show")});function x(){const t=Array.from(document.querySelectorAll(".number-of-flat")),o=t.length||h,s=q(o,c),A=C(Number(String(a.floor).replace(/^0+/,""))||m);t.forEach((g,v)=>{const y=(s[v]??0)+A;g.textContent=String(y)})}}document.addEventListener("DOMContentLoaded",()=>{B(),I()});
